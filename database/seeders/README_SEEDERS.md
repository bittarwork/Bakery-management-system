# دليل بذر البيانات (Seeders) - نظام إدارة المخبزة

## 📋 نظرة عامة

يحتوي هذا المجلد على جميع ملفات بذر البيانات التجريبية لنظام إدارة المخبزة. تم تصميم هذه البيانات لتكون منطقية ومترابطة ومناسبة للاختبار والتطوير.

## 🏗️ هيكل الـ Seeders

### الملفات المتوفرة:

1. **`master_seeder.sql`** - الملف الرئيسي الذي يشغل جميع الـ seeders
2. **`01_users_seeder.sql`** - بيانات المستخدمين والأدوار
3. **`02_products_seeder.sql`** - منتجات المخبزة بالعملتين
4. **`03_distributors_seeder.sql`** - بيانات الموزعين ومركباتهم
5. **`04_stores_seeder.sql`** - المحلات والعملاء
6. **`05_orders_seeder.sql`** - الطلبات وعناصرها
7. **`06_distribution_trips_seeder.sql`** - رحلات التوزيع والزيارات
8. **`07_payments_seeder.sql`** - المدفوعات بأنواعها المختلفة
9. **`08_notifications_seeder.sql`** - الإشعارات للمستخدمين

## 🚀 كيفية الاستخدام

### الطريقة الأولى: استخدام الـ Master Seeder (الموصى به)

```bash
# تشغيل جميع الـ seeders بترتيب صحيح
mysql -u root -p bakery_db < database/seeders/master_seeder.sql
```

### الطريقة الثانية: تشغيل Seeders منفردة

```bash
# تشغيل seeder واحد فقط
mysql -u root -p bakery_db < database/seeders/01_users_seeder.sql
mysql -u root -p bakery_db < database/seeders/02_products_seeder.sql
# وهكذا...
```

### الطريقة الثالثة: من داخل MySQL

```sql
USE bakery_db;
SOURCE database/seeders/master_seeder.sql;
```

## 📊 البيانات المُدرجة

### 👥 المستخدمين (9 مستخدمين)

- **Admin**: `admin@bakery.com` / `admin123`
- **مدير العمليات**: أحمد حسن
- **محاسبة**: فاطمة علي
- **3 موزعين نشطين** + 1 غير نشط
- **3 أصحاب محلات**

### 🥖 المنتجات (24 منتج)

- خبز ومعجنات
- كعك وحلويات
- بسكويت وكوكيز
- فطائر وبيتزا
- مشروبات
- منتجات موسمية

### 🚚 الموزعين (6 موزعين)

- 5 موزعين نشطين
- مركبات متنوعة (شاحنات، فانات، دراجة نارية)
- مناطق مختلفة (شمالية، جنوبية، شرقية، غربية، مطار)

### 🏪 المحلات (10 محلات)

- سوبرماركت كبير
- مقاهي ومطاعم
- فنادق وكافيتيريات
- بقالات صغيرة
- محلات حلويات
- متجر المطار

### 📦 الطلبات (11 طلب)

- طلبات بحالات مختلفة (مكتملة، قيد التحضير، معلقة)
- أكثر من 45 عنصر طلب
- قيم متنوعة بالعملتين

### 🚛 رحلات التوزيع (4 رحلات)

- رحلات مكتملة وقيد التنفيذ
- زيارات للمحلات مع تفاصيل GPS
- إحصائيات التحصيل والأداء

### 💰 المدفوعات (12 مدفوعة)

- طرق دفع متنوعة (نقد، بنك، كارت، شيك)
- عملات مختلطة (EUR, SYP, Mixed)
- حالات مختلفة (مكتملة، معلقة، مرفوضة)

### 🔔 الإشعارات (14 إشعار)

- إشعارات للمدراء والموزعين
- أنواع مختلفة (نظام، دفع، توصيل، عملاء)
- أولويات متفاوتة

## 💱 معلومات العملة

- **العملة الافتراضية**: EUR (يورو)
- **العملة الثانوية**: SYP (ليرة سورية)
- **سعر الصرف**: 1 EUR = 1800 SYP
- **التقويم**: ميلادي

## 📈 الإحصائيات المتوقعة

بعد تشغيل الـ seeders، ستحصل على:

```
- المستخدمين: 9
- المنتجات: 24
- الموزعين: 6
- المحلات: 10
- الطلبات: 11
- عناصر الطلبات: 45+
- رحلات التوزيع: 4
- زيارات المحلات: 8
- المدفوعات: 12
- الإشعارات: 14
```

## ⚠️ ملاحظات مهمة

### قبل تشغيل الـ Seeders:

1. **تأكد من إنشاء قاعدة البيانات**:

   ```sql
   SOURCE database/create_complete_database.sql;
   ```

2. **تأكد من أن الـ Sequelize sync معطل** في الباك-إند

3. **احفظ نسخة احتياطية** إذا كان لديك بيانات مهمة

### البيانات الحساسة:

- جميع كلمات المرور: `admin123`
- أرقام الهواتف: وهمية تبدأ بـ `+32-123-456-xxx`
- العناوين: مواقع وهمية في بروكسل، بلجيكا
- أرقام البنوك: وهمية لأغراض الاختبار فقط

## 🧪 اختبار البيانات

### بعد تشغيل الـ Seeders، يمكنك:

1. **تسجيل الدخول**:

   - الإيميل: `admin@bakery.com`
   - كلمة المرور: `admin123`

2. **اختبار الوظائف**:

   - إدارة المنتجات والمحلات
   - تتبع الطلبات والمدفوعات
   - مراقبة رحلات التوزيع
   - مراجعة التقارير والإحصائيات

3. **التحقق من العلاقات**:
   - كل طلب مرتبط بمحل ومنتجات
   - كل مدفوعة مرتبطة بطلب أو محل
   - كل رحلة مرتبطة بموزع وزيارات

## 🔄 إعادة بذر البيانات

لإعادة بذر البيانات من جديد:

```sql
-- امسح البيانات الموجودة
DELETE FROM notifications;
DELETE FROM payments;
DELETE FROM store_visits;
DELETE FROM distribution_trips;
DELETE FROM order_items;
DELETE FROM orders;
DELETE FROM stores;
DELETE FROM distributors;
DELETE FROM products;
DELETE FROM users;

-- أعد بذر البيانات
SOURCE database/seeders/master_seeder.sql;
```

## 🐛 استكشاف الأخطاء

### خطأ Foreign Key:

```sql
SET FOREIGN_KEY_CHECKS = 0;
-- تشغيل الـ seeder
SET FOREIGN_KEY_CHECKS = 1;
```

### خطأ AUTO_INCREMENT:

```sql
ALTER TABLE table_name AUTO_INCREMENT = 1;
```

### خطأ المسارات:

تأكد من تشغيل الأمر من المجلد الجذر للمشروع.

## 🤝 المساهمة

لإضافة بيانات جديدة:

1. اتبع نفس تنسيق الملفات الموجودة
2. تأكد من التسلسل المنطقي للبيانات
3. أضف تعليقات وصفية
4. اختبر الـ seeder قبل الإضافة

## 📞 الدعم

إذا واجهت مشاكل:

1. تحقق من إنشاء قاعدة البيانات أولاً
2. تأكد من تعطيل Sequelize sync
3. راجع ملفات الـ logs للأخطاء
4. تأكد من صلاحيات قاعدة البيانات

---

**💡 نصيحة**: استخدم `master_seeder.sql` دائماً للحصول على أفضل النتائج والتأكد من تناسق البيانات.
