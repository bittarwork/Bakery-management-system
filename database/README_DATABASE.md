# قاعدة البيانات الكاملة - نظام إدارة المخبزة

## معلومات عامة

- **اسم قاعدة البيانات**: `bakery_db`
- **قاعدة بيانات الاختبار**: `bakery_db_test`
- **الترميز**: UTF8MB4
- **العملة الافتراضية**: EUR (يورو)
- **العملة الثانوية**: SYP (ليرة سورية)

## الجداول الرئيسية (16 جدول)

### 1. جدول المستخدمين (users)

- إدارة المستخدمين مع أدوار مختلفة
- معلومات خاصة بالموزعين والمحلات
- مقاييس الأداء والأمان

### 2. جدول المنتجات (products)

- معلومات المنتجات مع الأسعار بالعملتين
- الفئات والباركود

### 3. جدول المحلات (stores)

- معلومات شاملة عن المحلات
- إدارة الحسابات والائتمان بالعملتين
- مقاييس الأداء والتقييم

### 4. جدول الطلبات (orders)

- إدارة الطلبات مع دعم العملتين
- حالات الطلب والدفع

### 5. جدول عناصر الطلبات (order_items)

- تفاصيل كل طلب
- الكميات والأسعار

### 6. جدول الموزعين (distributors)

- معلومات الموزعين الشاملة
- إدارة الرواتب والعمولات

### 7. جدول رحلات التوزيع (distribution_trips)

- تتبع الرحلات والأداء
- التكاليف والإحصائيات

### 8. جدول زيارات المحلات (store_visits)

- تفاصيل كل زيارة
- حالة التسليم والدفع

### 9. جدول المدفوعات (payments)

- نظام دفع متقدم مع دعم العملتين
- التحقق والموافقة

### 10. جدول مسارات التوزيع (distribution_routes)

- تخطيط المسارات
- الجداول الزمنية

### 11. جدول ربط المسارات بالمحلات (route_stores)

- ربط المحلات بالمسارات
- ترتيب الزيارات

### 12. جدول تخصيص الموزعين للمحلات (distributor_store_assignments)

- تخصيص الموزعين للمحلات
- أنواع المسؤوليات

### 13. جدول مدفوعات الموزعين (distributor_payments)

- إدارة رواتب الموزعين
- الراتب الأساسي والعمولات

### 14. جدول إحصائيات الموزعين (distributor_statistics)

- إحصائيات يومية للأداء
- معدلات التحصيل

### 15. جدول جلسات المستخدمين (user_sessions)

- إدارة الجلسات الآمنة
- تتبع النشاط

### 16. جدول الإشعارات (notifications)

- نظام الإشعارات الشامل
- أنواع وأولويات مختلفة

## Views للتقارير

### 1. distributor_performance

- أداء الموزعين الشامل
- معدلات التحصيل بالعملتين

### 2. monthly_sales

- المبيعات الشهرية
- إحصائيات شاملة

### 3. payment_status_summary

- ملخص حالة المدفوعات
- الأرصدة المستحقة

## الفهارس والأداء

- فهارس محسنة لجميع الجداول
- فهارس مركبة للاستعلامات السريعة
- فهارس للتواريخ والحالات

## المفاتيح الخارجية

- علاقات محددة بين الجداول
- حماية البيانات المرجعية
- CASCADE و SET NULL حسب الحاجة

## ملاحظات مهمة

- لا توجد بيانات تجريبية (seeders)
- جاهز للاستخدام المباشر
- يدعم العملتين EUR و SYP
- نظام أمان متقدم
- تتبع شامل للعمليات

## كيفية الاستخدام

```sql
-- تشغيل الملف الكامل
source database/create_complete_database.sql;

-- أو نسخ ولصق المحتوى في MySQL
```

## ملف SQL

- **الملف**: `database/create_complete_database.sql`
- **الحجم**: 734 سطر
- **الجداول**: 16 جدول
- **Views**: 3 views
- **الفهارس**: محسنة للأداء
