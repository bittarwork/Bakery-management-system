@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import component styles */
@import './components.css';

/* Custom CSS Variables */
:root {
    --primary-color: #f97316;
    --primary-dark: #ea580c;
    --secondary-color: #64748b;
    --background-color: #f8fafc;
    --text-color: #0f172a;
    --border-color: #e2e8f0;
    --shadow-color: rgba(0, 0, 0, 0.1);
    --success-color: #22c55e;
    --warning-color: #eab308;
    --error-color: #ef4444;
    --info-color: #3b82f6;
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
    :root {
        --background-color: #0f172a;
        --text-color: #f8fafc;
        --border-color: #334155;
        --shadow-color: rgba(255, 255, 255, 0.1);
    }
}

/* Base styles */
@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground;
        font-feature-settings: "rlig" 1, "calt" 1;
        direction: rtl;
    }

    /* Scrollbar styles */
    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        @apply bg-gray-100 dark:bg-gray-800;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-gray-300 dark:bg-gray-600 rounded-full;
    }

    ::-webkit-scrollbar-thumb:hover {
        @apply bg-gray-400 dark:bg-gray-500;
    }
}

/* Component styles */
@layer components {

    /* Custom button styles */
    .btn {
        @apply inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none;
    }

    .btn-primary {
        @apply bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500;
    }

    .btn-secondary {
        @apply bg-secondary-500 text-white hover:bg-secondary-600 focus:ring-secondary-500;
    }

    .btn-success {
        @apply bg-success-500 text-white hover:bg-success-600 focus:ring-success-500;
    }

    .btn-warning {
        @apply bg-warning-500 text-white hover:bg-warning-600 focus:ring-warning-500;
    }

    .btn-danger {
        @apply bg-danger-500 text-white hover:bg-danger-600 focus:ring-danger-500;
    }

    .btn-outline {
        @apply border-2 bg-transparent hover:bg-gray-50 dark:hover:bg-gray-800;
    }

    .btn-ghost {
        @apply bg-transparent hover:bg-gray-100 dark:hover:bg-gray-800;
    }

    /* Size variants */
    .btn-sm {
        @apply px-3 py-1.5 text-sm;
    }

    .btn-md {
        @apply px-4 py-2 text-base;
    }

    .btn-lg {
        @apply px-6 py-3 text-lg;
    }

    /* Card styles */
    .card {
        @apply bg-white dark:bg-gray-800 rounded-xl shadow-soft border border-gray-200 dark:border-gray-700;
    }

    .card-header {
        @apply p-6 border-b border-gray-200 dark:border-gray-700;
    }

    .card-body {
        @apply p-6;
    }

    .card-footer {
        @apply p-6 border-t border-gray-200 dark:border-gray-700;
    }

    /* Input styles */
    .input {
        @apply block w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm placeholder-gray-400 focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500;
    }

    .input-error {
        @apply border-red-500 focus:border-red-500 focus:ring-red-500;
    }

    /* Badge styles */
    .badge {
        @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium;
    }

    .badge-primary {
        @apply bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-200;
    }

    .badge-success {
        @apply bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200;
    }

    .badge-warning {
        @apply bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200;
    }

    .badge-danger {
        @apply bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200;
    }

    .badge-info {
        @apply bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200;
    }

    /* Loading states */
    .loading {
        @apply opacity-70 pointer-events-none;
    }

    .spinner {
        @apply animate-spin rounded-full border-2 border-gray-300 border-t-primary-500;
    }

    /* Animation utilities */
    .animate-fade-in {
        animation: fadeIn 0.5s ease-in-out;
    }

    .animate-slide-in {
        animation: slideIn 0.3s ease-out;
    }

    .animate-bounce-in {
        animation: bounceIn 0.6s ease-out;
    }

    /* Responsive table */
    .table-responsive {
        @apply min-w-full overflow-hidden shadow ring-1 ring-black ring-opacity-5 rounded-lg;
    }

    .table-responsive table {
        @apply min-w-full divide-y divide-gray-300 dark:divide-gray-600;
    }

    .table-responsive th {
        @apply px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400;
    }

    .table-responsive td {
        @apply px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100;
    }

    .table-responsive tr:nth-child(even) {
        @apply bg-gray-50 dark:bg-gray-700/50;
    }

    /* Sidebar styles */
    .sidebar {
        @apply fixed inset-y-0 right-0 z-50 w-64 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 transform transition-transform duration-300 ease-in-out;
    }

    .sidebar-open {
        @apply translate-x-0;
    }

    .sidebar-closed {
        @apply translate-x-full;
    }

    /* Dashboard grid */
    .dashboard-grid {
        @apply grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4;
    }

    .dashboard-stat {
        @apply bg-white dark:bg-gray-800 rounded-xl p-6 shadow-soft border border-gray-200 dark:border-gray-700;
    }

    /* Chart container */
    .chart-container {
        @apply relative h-64 w-full;
    }

    .chart-container canvas {
        @apply max-h-full max-w-full;
    }
}

/* Utility classes */
@layer utilities {
    .text-balance {
        text-wrap: balance;
    }

    .text-pretty {
        text-wrap: pretty;
    }

    /* RTL support */
    .rtl {
        direction: rtl;
    }

    .ltr {
        direction: ltr;
    }

    /* Focus styles */
    .focus-visible {
        @apply outline-2 outline-offset-2 outline-primary-500;
    }

    /* Glassmorphism effect */
    .glass {
        @apply backdrop-blur-sm bg-white/80 dark:bg-gray-800/80 border border-white/20 dark:border-gray-700/20;
    }

    /* Gradient backgrounds */
    .bg-gradient-primary {
        @apply bg-gradient-to-r from-primary-500 to-primary-600;
    }

    .bg-gradient-secondary {
        @apply bg-gradient-to-r from-secondary-500 to-secondary-600;
    }

    .bg-gradient-success {
        @apply bg-gradient-to-r from-success-500 to-success-600;
    }

    .bg-gradient-warning {
        @apply bg-gradient-to-r from-warning-500 to-warning-600;
    }

    .bg-gradient-danger {
        @apply bg-gradient-to-r from-danger-500 to-danger-600;
    }

    /* Print styles */
    @media print {
        .no-print {
            @apply hidden;
        }

        .print-only {
            @apply block;
        }

        body {
            @apply text-black bg-white;
        }
    }
}

/* Custom animations */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideIn {
    from {
        transform: translateX(100%);
    }

    to {
        transform: translateX(0);
    }
}

@keyframes bounceIn {
    0% {
        transform: scale(0.3);
        opacity: 0;
    }

    50% {
        transform: scale(1.05);
    }

    70% {
        transform: scale(0.9);
    }

    100% {
        transform: scale(1);
        opacity: 1;
    }
}

/* Leaflet map fixes */
.leaflet-container {
    @apply rounded-lg overflow-hidden;
}

.leaflet-popup-content-wrapper {
    @apply rounded-lg;
}

.leaflet-popup-tip {
    @apply bg-white dark:bg-gray-800;
}

/* React Select customization */
.react-select-container {
    @apply text-sm;
}

.react-select__control {
    @apply border-gray-300 dark:border-gray-600 dark:bg-gray-700 min-h-[42px];
}

.react-select__control:hover {
    @apply border-gray-400 dark:border-gray-500;
}

.react-select__control--is-focused {
    @apply border-primary-500 shadow-none ring-1 ring-primary-500;
}

.react-select__menu {
    @apply bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg;
}

.react-select__option {
    @apply text-gray-900 dark:text-gray-100 py-2 px-3;
}

.react-select__option:hover {
    @apply bg-gray-100 dark:bg-gray-600;
}

.react-select__option--is-selected {
    @apply bg-primary-500 text-white;
}

.react-select__option--is-focused {
    @apply bg-primary-100 dark:bg-primary-900 text-primary-900 dark:text-primary-100;
}

/* React DatePicker customization */
.react-datepicker-wrapper {
    @apply w-full;
}

.react-datepicker__input-container input {
    @apply w-full;
}

.react-datepicker {
    @apply bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg;
}

.react-datepicker__header {
    @apply bg-gray-50 dark:bg-gray-700 border-b border-gray-300 dark:border-gray-600 rounded-t-lg;
}

.react-datepicker__day {
    @apply text-gray-700 dark:text-gray-300;
}

.react-datepicker__day:hover {
    @apply bg-primary-100 dark:bg-primary-900;
}

.react-datepicker__day--selected {
    @apply bg-primary-500 text-white;
}

.react-datepicker__day--keyboard-selected {
    @apply bg-primary-200 dark:bg-primary-800;
}

/* Modal styles */
.modal-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4;
}

.modal-content {
    @apply bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto;
}

.modal-header {
    @apply p-6 border-b border-gray-200 dark:border-gray-700;
}

.modal-body {
    @apply p-6;
}

.modal-footer {
    @apply p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3;
}

/* Responsive design helpers */
@screen sm {
    .container {
        max-width: 640px;
    }
}

@screen md {
    .container {
        max-width: 768px;
    }
}

@screen lg {
    .container {
        max-width: 1024px;
    }
}

@screen xl {
    .container {
        max-width: 1280px;
    }
}

@screen 2xl {
    .container {
        max-width: 1536px;
    }
}