# ุฏููู ุงุณุชุฎุฏุงู ูุธุงู ุงูุฌูุณุงุช - Session Management Guide

## ููุฎุต ุณุฑูุน

ุชู ุชุทุจูู ูุธุงู ุฅุฏุงุฑุฉ ุฌูุณุงุช ุดุงูู ูุน **ูุฏุฉ ุตูุงุญูุฉ 3 ุณุงุนุงุช** ุจุงูุถุจุท ููุง ุทููุจ.

## ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### โ ูุฏุฉ ุงูุฌูุณุฉ: 3 ุณุงุนุงุช ุจุงูุถุจุท

- ุชุจุฏุฃ ุงูุนุฏ ุงูุชูุงุฒูู ูู ูุญุธุฉ ุชุณุฌูู ุงูุฏุฎูู
- ุชุณุฌูู ุฎุฑูุฌ ุชููุงุฆู ุนูุฏ ุงูุชูุงุก ุงููุฏุฉ

### โ ุชุญุฐูุฑุงุช ุฐููุฉ

- ุชุญุฐูุฑ ุฃูู ุนูุฏ ุจูุงุก 15 ุฏูููุฉ
- ุชุญุฐูุฑ ุญุฑุฌ ุนูุฏ ุจูุงุก 5 ุฏูุงุฆู
- ุนุฏุงุฏ ุชูุงุฒูู ูุฑุฆู ูู ุงูุฑุฃุณ

### โ ุชุชุจุน ุงููุดุงุท

- ุชุญุฏูุซ ุชููุงุฆู ุนูุฏ ุชูุงุนู ุงููุณุชุฎุฏู
- ุชูุฏูุฏ ุงูุฌูุณุฉ ุจูุงุกู ุนูู ุงููุดุงุท

### โ ุชุฌุฏูุฏ ุงูุฌูุณุฉ

- ุฅููุงููุฉ ุชุฌุฏูุฏ ุงูุฌูุณุฉ ุจู 3 ุณุงุนุงุช ุฅุถุงููุฉ
- ุชุฌุฏูุฏ ูุฏูู ุฃู ุชููุงุฆู

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูููุณุชุฎุฏู ุงูููุงุฆู

1. **ุชุณุฌูู ุงูุฏุฎูู**: ุงูุฌูุณุฉ ุชุจุฏุฃ ููุฏุฉ 3 ุณุงุนุงุช
2. **ูุฑุงูุจุฉ ุงูููุช**: ุดุงูุฏ ุงูุนุฏุงุฏ ูู ุฃุนูู ุงูุตูุญุฉ
3. **ุงูุชุญุฐูุฑุงุช**: ุณุชุธูุฑ ุชูุจููุงุช ูุจู ุงูุชูุงุก ุงูุฌูุณุฉ
4. **ุงูุชุฌุฏูุฏ**: ุงููุฑ "ุชุฌุฏูุฏ ุงูุฌูุณุฉ" ูุฅุถุงูุฉ 3 ุณุงุนุงุช

### ูููุทูุฑ

```jsx
// ุงุณุชุฎุฏุงู ูุนูููุงุช ุงูุฌูุณุฉ
import { useAuthStore } from "./stores/authStore";

const MyComponent = () => {
  const { getSessionInfo, renewSession } = useAuthStore();

  const handleRenew = () => {
    renewSession(); // ุชุฌุฏูุฏ ูู 3 ุณุงุนุงุช ุฅุถุงููุฉ
  };

  return (
    <div>
      ุงูููุช ุงููุชุจูู: {getSessionInfo().timeRemainingFormatted}
      <button onClick={handleRenew}>ุชุฌุฏูุฏ</button>
    </div>
  );
};
```

## ุงููููุงุช ุงูููุถุงูุฉ/ุงูููุนุฏููุฉ

### ูููุงุช ุฌุฏูุฏุฉ:

- `utils/sessionManager.js` - ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช ุงูุฃุณุงุณูุฉ
- `components/ui/SessionWarning.jsx` - ุชุญุฐูุฑ ุงูุชูุงุก ุงูุฌูุณุฉ
- `components/ui/SessionTimer.jsx` - ุนุฏุงุฏ ุงูููุช ูู ุงูุฑุฃุณ
- `hooks/useActivityTracker.js` - ุชุชุจุน ูุดุงุท ุงููุณุชุฎุฏู
- `providers/SessionProvider.jsx` - ูุฒูุฏ ุงูุณูุงู

### ูููุงุช ูุนุฏููุฉ:

- `stores/authStore.js` - ุฅุถุงูุฉ ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช
- `App.jsx` - ุฅุถุงูุฉ SessionProvider
- `components/layout/DashboardLayout.jsx` - ุฅุถุงูุฉ SessionTimer

## ุงุฎุชุจุงุฑ ุงููุธุงู

### 1. ุชุณุฌูู ุงูุฏุฎูู

```bash
# ูุฌุจ ุฃู ุชุฑู ูู Console:
"Session created - expires at: [DATE_TIME]"
```

### 2. ูุฑุงูุจุฉ ุงูุนุฏุงุฏ

- ุดุงูุฏ ุงูุนุฏุงุฏ ูู ุฃุนูู ูููู ุงูุตูุญุฉ
- ูุฌุจ ุฃู ูุธูุฑ ุงูููุช ุงููุชุจูู ุจุตูุบุฉ `HH:MM:SS`

### 3. ุงุฎุชุจุงุฑ ุงูุชุญุฐูุฑุงุช

```javascript
// ูู Console ุงููุทูุฑุ ูุงุฎุชุจุงุฑ ุณุฑูุน:
sessionManager.SESSION_DURATION = 5 * 60 * 1000; // 5 ุฏูุงุฆู ููุงุฎุชุจุงุฑ
```

### 4. ุงุฎุชุจุงุฑ ุชุชุจุน ุงููุดุงุท

- ุญุฑู ุงููุงูุณ ุฃู ุงูุชุจ
- ูุฌุจ ุชุญุฏูุซ `last_activity` ูู localStorage

## ุงููุดุงูู ุงูุดุงุฆุนุฉ ูุญููููุง

### ุงููุดููุฉ: ุงูุนุฏุงุฏ ูุง ูุธูุฑ

**ุงูุญู**: ุชุฃูุฏ ูู ูุฌูุฏ `SessionTimer` ูู `DashboardLayout`

### ุงููุดููุฉ: ุงูุชุญุฐูุฑุงุช ูุง ุชุธูุฑ

**ุงูุญู**: ุชุญูู ูู `SessionWarning` ูู `SessionProvider`

### ุงููุดููุฉ: ุงูุฌูุณุฉ ูุง ุชูุชูู ุชููุงุฆูุงู

**ุงูุญู**: ุชุญูู ูู `sessionManager.startSessionMonitoring()`

### ุงููุดููุฉ: ุงููุดุงุท ูุง ููุชุชุจุน

**ุงูุญู**: ุชุฃูุฏ ูู ุชุดุบูู `useActivityTracker` hook

## ุชุฎุตูุต ุงูุฅุนุฏุงุฏุงุช

### ุชุบููุฑ ูุฏุฉ ุงูุฌูุณุฉ:

```javascript
// ูู sessionManager.js
this.SESSION_DURATION = 4 * 60 * 60 * 1000; // 4 ุณุงุนุงุช ุจุฏูุงู ูู 3
```

### ุชุบููุฑ ููุช ุงูุชุญุฐูุฑ:

```javascript
// ูู sessionManager.js
shouldShowWarning() {
    const remaining = this.getRemainingTime();
    return remaining > 0 && remaining <= 10 * 60 * 1000; // 10 ุฏูุงุฆู ุจุฏูุงู ูู 15
}
```

## ุงูุฏุนู ูุงูุตูุงูุฉ

### ุณุฌูุงุช ุงูุชุทุจูู (Console Logs):

- `"Session created"` - ุฅูุดุงุก ุฌูุณุฉ ุฌุฏูุฏุฉ
- `"Session expired"` - ุงูุชูุงุก ุงูุฌูุณุฉ
- `"Session monitoring started"` - ุจุฏุก ุงููุฑุงูุจุฉ
- `"Session renewed"` - ุชุฌุฏูุฏ ุงูุฌูุณุฉ

### ุงูุจูุงูุงุช ุงููุญููุธุฉ:

- **Cookies**: `auth_token` (ูุน ุงูุชูุงุก ุตูุงุญูุฉ)
- **localStorage**: `session_data` (ูุนูููุงุช ุงูุฌูุณุฉ)

### ุชูุธูู ุงูุจูุงูุงุช:

```javascript
// ุชูุธูู ูุฏูู ููุฌูุณุฉ
sessionManager.destroySession();
```

---

**ููุงุญุธุฉ**: ุงููุธุงู ูุทุจู ุจุงููุงูู ููุนูู ุจูุฏุฉ 3 ุณุงุนุงุช ุจุงูุถุจุท ููุง ุทููุจ. ๐
